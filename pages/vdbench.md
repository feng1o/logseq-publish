- [Vdbench在分布式存储性能测试中的使用方法.pdf](Vdbench在分布式存储性能测试中的使用方法.pdf)
- ###  性能测试的概念
	- **狭义：模拟生产场景、业务压力或者用户的实际使用场景，测试系统的性能是否能够满足生产性能需要，得出一组性能数据**
	- **广义：则是****压力测试****、负载测试、并发测试、配置测试等一系列相关测试的统称。**
- ### 软件层面
	- 1、**基准性能场景**（空集群 or 低负载集群）
		- 顾名思义，记录集群在空负载or低负载状态下的性能表现
	- 2、**容量性能场景**
		- 测试集群在不同数据水位时的性能，对于大多数存储系统来说集群高水位与集群低水位的性能表现并不相同
	- 3、**压力性能场景**（集群内包含多种复杂业务模型，是否都有相应的qos）
		- 通常指集群已经对接
	- 4、**异常性能场景**（集群存在数据均衡/集群存在冗余范围内的故障）
		- 通常指集群存在异常case下的性能表现，包括不同的故障模式（节点、内存、cpu、网络、k8s级pod等）、故障级别（冗余范围内、冗余范围外）
		- 满足异常、压力、容量性能场景后再谈基准性能场景
		- 1、譬如对于大规模线上集群来说的话，坏盘，慢盘，raid卡故障或者是服务器故障等异常场景是很频繁的。大部分池化存储多副本的强一致性协议，那么需要多副本均写完了，才能返回给业务写成功。所以这时，但凡有一个点异常了，写IO便迟迟无法返回给客户端；更为要紧的是，池化概念导致了属于该池子的所有业务卷都会受影响。所以往往就是线上存储集群但凡有一处异常，便会导致大面积的用户卷IO发生卡顿。而大部分核心KA客户对于业务的敏感度是非常高的。
		- 2、集群大量gc场景时集群性能均会受到影响，是否开启gc/gc程度往往也会在不同的程度去影响集群的性能
		- 3、部分存储系统写入性能不如读性能（为读性能的一半，数据被随机写入磁盘，分散模式宝贵之处在于可以在文件系统写满时保持统一的性能，避免因碎片而导致性能损失）